{% load staticfiles %}
<!DOCTYPE html>
<html>
<head>
	<title>HOLO</title>
	<link rel="stylesheet" href='{% static "css/indexstyle.css"%}'>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	<script src="//code.jquery.com/jquery.min.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
	<script type = "text/javascript" src = '{% static "jquery/lib/jquery.js" %}'></script>
	<script type = "text/javascript" src = '{% static "jquery/lib/jquery.bgiframe.min.js" %}'></script>
	<script type = "text/javascript" src = '{% static "jquery/lib/jquery.ajaxQueue.js" %}'></script>
	<script type = "text/javascript" src = '{% static "jquery/jquery.autocomplete.js" %}'></script>
	<link rel ="stylesheet" type = "text/css" href = '{% static "jquery/jquery.autocomplete.css" %}'/>
	<style type="text/css">

		.cliniclist .reallist .ui-selecting { 
			background: pink; 
		}
		.cliniclist .reallist .ui-selected {
			background: hotpink;
		}
		.cliniclist .reallist {
			
			list-style-type: none; 
			margin-top: 50px;
			padding: 0;
			width: 700px; 
		}
		.cliniclist .reallist li {

			font-size: 10px; 
			padding: .5em; 
			border: 3px solid yellow; 
		}

	</style>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
		<script>

  
            var geocoder;//
            var map;//
            
            function getLocation(){//좌표 자동 생성
                if(navigator.geolocation){
                    navigator.geolocation.getCurrentPosition(initialize);
                }else{
                    alert("Not Support Browser");
                }
            }        
        
            function initialize(position){            
                geocoder = new google.maps.Geocoder();
                var mapOption = {
                    center:new google.maps.LatLng(position.coords.latitude,position.coords.longitude),
                    zoom:15,
                    mapTypeId:google.maps.MapTypeId.ROADMAP
                };
                map=new google.maps.Map(document.getElementById("google_map"),mapOption);
            }
            google.maps.event.addDomListener(window, 'load', getLocation);
            
            function codeAddress() {
                var address = document.getElementById('address').value;            
                geocoder.geocode( { 'address': address}, function(results, status) {
                    if (status == google.maps.GeocoderStatus.OK) {
                        map.setCenter(results[0].geometry.location);
                        var marker = new google.maps.Marker({
                            map: map,
                            position: results[0].geometry.location
                        });
                    } else {
                        alert('Geocode was not successful for the following reason: ' + status);
                    }
                });
            }

		</script>

</head>
	<body>
		<script>
				var availableTags =[
					'중이염', 
					'급성심근경색', 
					'골수이식', 
					'간암', 
					'위암', 
					'제왕절개', 
					'관상동맥우회술', 
					'당뇨병', 
					'유방암', 
					'폐암', 
					'천식', 
					'폐렴', 
					'고혈압', 
					'혈액투석', 
					'고관절치환술', 
					'췌장암', 
					'식도암'
				];
			</script>
		<script>
				$(document).ready(function() {
					$("#search").autocomplete(availableTags,{
						matchContains: true,
						selectFirst: false
						
					});
				});
			</script>
		<div class = "cliniclist" id = "panel"  style="overflow:scroll;">
			
			<ul class="reallist">
			{% if lists %}
			{% for list in lists %}
			
			<input type = "textbox" style = "display:none;" id = "address" name = "name" value="{{list.name}}">
			 <li class="ui-widget-content"><input type="button" value="{{list.name}}" onclick="codeAddress()" ></li>
		
			{% endfor %}
			{% endif %}
			</ul>

		</div>
		<script>
			$(function() {
			  $( ".reallist" )
			    .selectable()
			    .on("selectablestop", function() {
			      var my_clinics = [];
			      $('.reallist .ui-selected').each(function() {
			        my_clinics.push( $(this).data('value') );
			      });
			      console.log( my_clinics );
			    });
			});
		</script>
		<div id="google_map" ></div>

	<div class = "etc">


	</div>
	</body>
</html>


